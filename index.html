<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>ã€æ­¯ç£¨ãã‚¤ãƒ¤ã‚¤ãƒ¤ã®æœ¬å½“ã®åŸå› ã¯ãƒãƒã®å¿ƒã«ã‚ã£ãŸï¼ã€â€” eBook (single-file)</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --ink: #1f2937;
    --paperA: #fff;
    --paperB: #f8fafc;
    --ui: rgba(255,255,255,0.8);
  }
  [data-theme="sepia"]{
    --ink: #3c2f2f;
    --paperA: #fff4e6;
    --paperB: #ffefe0;
    --ui: rgba(255,245,230,0.9);
  }
  [data-theme="dark"]{
    --ink: #e5e7eb;
    --paperA: #0f1115;
    --paperB: #121520;
    --ui: rgba(17,24,39,0.7);
  }
  *{ box-sizing:border-box; }
  body{
    margin:0; background: linear-gradient(135deg,var(--paperA),var(--paperB));
    color: var(--ink); font-family: 'Noto Sans JP', system-ui, -apple-system, Segoe UI, Roboto, 'Hiragino Kaku Gothic ProN', 'Noto Sans JP', 'Yu Gothic UI', 'YuGothic', Meiryo, sans-serif;
  }
  .noise{position:fixed;inset:0;pointer-events:none;opacity:.05;mix-blend:overlay;background-image:radial-gradient(currentColor 1px,transparent 1px);background-size:12px 12px}
  header{position:sticky;top:0;z-index:10;backdrop-filter:blur(8px);background:var(--ui);border-bottom:1px solid rgba(255,255,255,.2)}
  header .bar{max-width:1100px;margin:0 auto;padding:10px 14px;display:flex;gap:8px;align-items:center}
  header .title{font-weight:700;letter-spacing:.02em}
  header .spacer{flex:1}
  button,select,input[type=range]{
    color:inherit;background:transparent;border:1px solid rgba(255,255,255,.2);
    padding:6px 10px;border-radius:10px;cursor:pointer
  }
  button:hover{background:rgba(255,255,255,.1)}
  .grid{max-width:1100px;margin:0 auto;padding:18px 14px;display:grid;grid-template-columns:1fr;gap:16px}
  @media (min-width:960px){ .grid.toc-open{grid-template-columns:280px 1fr} }
  aside{background:var(--ui);border:1px solid rgba(255,255,255,.2);border-radius:16px;padding:12px;max-height:72vh;overflow:auto}
  .viewer{background:var(--ui);border:1px solid rgba(255,255,255,.2);border-radius:16px;padding:16px;box-shadow:0 10px 40px rgba(0,0,0,.1);height:72vh;overflow:hidden;position:relative}
  .pages{height:100%;display:grid;gap:16px}
  .pages.spread{grid-template-columns:1fr 1fr}
  .page{height:100%;border-radius:12px;background:linear-gradient(to bottom right,#fff, #fff);color:#111;overflow:auto;border:1px solid rgba(0,0,0,.05)}
  [data-theme="dark"] .page{background:linear-gradient(to bottom right,#0b0e14,#12151d);color:#e5e7eb;border-color:#000}
  [data-theme="sepia"] .page{background:linear-gradient(to bottom right,#fffdf7,#fff5e9)}
  .page article{white-space:pre-wrap;padding:22px;letter-spacing:.01em;user-select:text}
  .nav{pointer-events:none;position:absolute;inset:0;display:flex;justify-content:space-between;align-items:center}
  .nav > div{pointer-events:auto}
  .round{border-radius:999px;padding:8px 10px;background:transparent}
  .footer{display:flex;gap:10px;align-items:center;margin-top:10px}
  .badge{display:inline-block;border:1px solid rgba(255,255,255,.2);padding:4px 8px;border-radius:999px;font-size:12px;margin-right:6px}
  .muted{opacity:.65;font-size:12px}
</style>
</head>
<body data-theme="sepia">
<div class="noise"></div>
<header>
  <div class="bar">
    <div>ğŸ“–</div>
    <div class="title">ã€æ­¯ç£¨ãã‚¤ãƒ¤ã‚¤ãƒ¤ã®æœ¬å½“ã®åŸå› ã¯ãƒãƒã®å¿ƒã«ã‚ã£ãŸï¼ã€â€” eBook (single-file)</div>
    <div class="spacer"></div>

    <button id="themeBtn" title="ãƒ†ãƒ¼ãƒåˆ‡æ›¿">ğŸ¨ ãƒ†ãƒ¼ãƒ</button>
    <button id="smaller" title="å°ã•ã">Aâˆ’</button>
    <span class="muted" id="fontSizeView"></span>
    <button id="bigger" title="å¤§ãã">Aï¼‹</button>

    <label class="muted" style="margin-left:8px">è¡Œé–“ <input id="lh" type="range" min="1.4" max="2.2" step="0.1" value="1.9" /></label>

    <button id="spreadBtn" title="è¦‹é–‹ã">ğŸ— è¦‹é–‹ã</button>
    <button id="tocBtn" title="ç›®æ¬¡">ğŸ“‹ ç›®æ¬¡</button>
    <button id="bmBtn" title="ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯">ğŸ”– ã—ãŠã‚Š</button>
  </div>
  <div style="height:4px;background:rgba(255,255,255,.2);position:relative">
    <div id="progressBar" style="height:4px;background:linear-gradient(90deg,#34d399,#06b6d4);width:0%"></div>
  </div>
</header>

<div id="grid" class="grid">
  <aside id="toc" style="display:none">
    <div class="muted">ç›®æ¬¡</div>
    <ul id="tocList" style="list-style:none;padding-left:0"></ul>
    <div id="bmListWrap" style="margin-top:12px;display:none">
      <div class="muted">ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯</div>
      <div id="bmList"></div>
    </div>
  </aside>

  <div>
    <div class="viewer">
      <div id="pages" class="pages"></div>
      <div class="nav">
        <div><button class="round" id="prev">â†</button></div>
        <div><button class="round" id="next">â†’</button></div>
      </div>
    </div>
    <div class="footer">
      <span class="muted" id="pageInfo"></span>
      <input type="range" id="slider" min="0" max="0" value="0" style="flex:1"/>
    </div>
  </div>
</div>

<script>
  const state = {
    theme: localStorage.getItem('eb3.theme') || 'sepia',
    font: parseInt(localStorage.getItem('eb3.font') || '18', 10),
    lh: parseFloat(localStorage.getItem('eb3.lh') || '1.9'),
    spread: JSON.parse(localStorage.getItem('eb3.spread') || 'true'),
    page: parseInt(localStorage.getItem('eb3.page') || '0', 10),
    bm: JSON.parse(localStorage.getItem('eb3.bm') || '[]')
  };

  const content = 'ã€æ­¯ç£¨ãã‚¤ãƒ¤ã‚¤ãƒ¤ã®æœ¬å½“ã®åŸå› ã¯ãƒãƒã®å¿ƒã«ã‚ã£ãŸï¼ã€\n\nã€œé¡ã®æ³•å‰‡ã§æˆ‘ãŒå­ãŒå¤‰ã‚ã‚‹ã€Œå¿ƒã®ç£¨ãæ–¹ã€ã€œ \n\nã€åºç« ã€‘ã¯ã˜ã‚ã«ï¼šçµ‚ã‚ã‚‰ãªã„ã€Œæ­¯ç£¨ãæˆ¦äº‰ã€ã«ã€ä»Šå¤œçµ‚æ­¢ç¬¦ã‚’æ‰“ã¡ã¾ã—ã‚‡ã† \n\næ¯æ™©ã€å­ã©ã‚‚ã®å¯ã‚‹æ™‚é–“ã«ãªã‚‹ã¨ã€ã‚ãªãŸã®å¿ƒã«å°ã•ãªæš—é›²ãŒç«‹ã¡è¾¼ã‚ã‚‹ã®ã§ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚ \n\nã€Œã•ã‚ã€æ­¯ç£¨ãã—ã‚ˆã†ã­ã€ \n\nãã®ä¸€è¨€ãŒã€ä»Šå¤œã®æˆ¦ã„ã®ã‚´ãƒ³ã‚°ã«ãªã‚‹ã“ã¨ã‚’ã€ã‚ãªãŸã¯çŸ¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã€‚ \n\nã€Œã‚¤ãƒ¤ã ï¼ã€ã€Œã‚ã¨ã§ï¼ã€ã€Œè‡ªåˆ†ã§ã§ãã‚‹ï¼ï¼ˆã§ã‚‚ã€ã‚„ã‚‰ãªã„ï¼‰ã€ \n\næ³£ãå«ã¶æˆ‘ãŒå­ã‚’æŠ¼ã•ãˆã¤ã‘ã€ç„¡ç†ã‚„ã‚Šæ­¯ãƒ–ãƒ©ã‚·ã‚’å£ã«çªã£è¾¼ã‚€ã€‚å­ã©ã‚‚ã®ç›®ã«ã¯æ¶™ã€ãã—ã¦ã‚\nãªãŸã®å¿ƒã«ã¯ã€Œã¾ãŸæ€’ã£ã¦ã—ã¾ã£ãŸâ€¦ã€ã¨ã„ã†ç½ªæ‚ªæ„Ÿã¨ã€æ·±ã„ç–²åŠ´ã ã‘ãŒæ®‹ã‚‹â€¦ã€‚ \n\nã€Œã“ã®å­ã®å¥åº·ã®ãŸã‚ãªã®ã«ã€ã©ã†ã—ã¦åˆ†ã‹ã£ã¦ãã‚Œãªã„ã®ï¼Ÿã€ \n\nãã†å¤©ã‚’ä»°ã„ã ã“ã¨ã¯ä¸€åº¦ã‚„äºŒåº¦ã§ã¯ãªã„ã¯ãšã§ã™ã€‚ä»•ä¸Šã’ç£¨ãã§æš´ã‚Œã‚‹æˆ‘ãŒå­ã«ã€ã‚‚ã†ãƒ˜ãƒˆãƒ˜\nãƒˆã€‚å°å­¦ç”Ÿã«ãªã£ã¦ã‚‚è‡ªåˆ†ã‹ã‚‰ã‚„ã‚ã†ã¨ã›ãšã€æ³¨æ„ã™ã‚Œã°è¦ªå­å–§å˜©ã€‚è¦‹ã‹ã­ã¦ç£¨ã„ã¦ã‚ã’ã¦ã‚‚ã€\nã‚¶ãƒƒã¨æ¸ˆã¾ã›ã‚‹ã ã‘ã§ç£¨ãæ®‹ã—ã ã‚‰ã‘â€¦ã€‚ \n\nã“ã‚“ã«ã¡ã¯ã€‚æ­¯ç§‘åŒ»å¸«ã§ã‚ã‚Šã€ãƒ•ãƒ©ã‚¯ã‚¿ãƒ«å¿ƒç†å­¦ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼ã®ã€‡ã€‡ã§ã™ã€‚ ç§ã¯ã“ã‚Œã¾ã§ã€æ­¯ç§‘åŒ»\nå¸«ã¨ã—ã¦ä½•åƒäººã‚‚ã®ãŠå­ã•ã‚“ã®ãŠå£ã®å¥åº·ã‚’å®ˆã£ã¦ãã¾ã—ãŸãŒã€åŒæ™‚ã«ã€ä»•ä¸Šã’ç£¨ãã«ç–²ã‚Œæœã¦\nãŸãŠæ¯ã•ã‚“ãŸã¡ã®æ‚²ç—›ãªå£°ã‚‚ã€æ•°ãˆåˆ‡ã‚Œãªã„ã»ã©èã„ã¦ãã¾ã—ãŸã€‚ \n\nã€Œé«˜ã„æ­¯ãƒ–ãƒ©ã‚·ã‚‚ã€å¥½ããªå‘³ã®æ­¯ç£¨ãç²‰ã‚‚è©¦ã—ã¾ã—ãŸã€ ã€Œæ­¯ç£¨ãã‚¢ãƒ—ãƒªã‚‚ã€ã”è¤’ç¾ã‚·ãƒ¼ãƒ«ã‚‚ã€å…¨éƒ¨ã‚„\nã‚Šã¾ã—ãŸã€ ã€Œã§ã‚‚ã€ã‚‚ã†é™ç•Œã§ã™â€¦ã€ \n\nã‚‚ã—ã€ã‚ãªãŸãŒã“ã‚Œã¾ã§ã«è©¦ã—ãŸã‚ã‚‰ã‚†ã‚‹æ–¹æ³•ã§ã†ã¾ãã„ã‹ãªã‹ã£ãŸã®ã ã¨ã—ãŸã‚‰ã€ãã‚Œã¯å½“ç„¶ã‹ã‚‚\nã—ã‚Œã¾ã›ã‚“ã€‚ãªãœãªã‚‰ã€å•é¡Œã®æœ¬å½“ã®æ ¹ã£ã“ã¯ã€å­ã©ã‚‚ã®ã€Œã‚¤ãƒ¤ã ã€ã¨ã„ã†æ°—æŒã¡ã‚„ã€æ­¯ç£¨ãã®ãƒ†ã‚¯\nãƒ‹ãƒƒã‚¯ã«ã¯ãªã„ã‹ã‚‰ã§ã™ã€‚ \n\nè¡æ’ƒçš„ãªã“ã¨ã‚’ãŠä¼ãˆã—ã¾ã™ã€‚ ãŠå­ã•ã‚“ã®æ­¯ç£¨ãã¸ã®é ‘ãªãªæŠµæŠ—ã¯ã€å®Ÿã¯ãŠæ¯ã•ã‚“ã§ã‚ã‚‹ã€ã‚ãª\nãŸã®ã€Œæ·±å±¤æ„è­˜ã€ãŒé¡ã®ã‚ˆã†ã«æ˜ ã—å‡ºã•ã‚ŒãŸçµæœãªã®ã§ã™ã€‚ \n\nã€Œãã‚“ãªã¯ãšã¯ãªã„ï¼ã€ã¨æ€ã‚ã‚Œã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã§ã™ãŒã€å®‰å¿ƒã—ã¦ãã ã•ã„ã€‚ã“ã‚Œã¯ã€ã‚ãªãŸã‚’\nè²¬ã‚ã‚‹ãŸã‚ã®ãŠè©±ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ã‚€ã—ã‚ã€ã‚ãªãŸã‚’é•·å¹´ã®è‹¦ã—ã¿ã‹ã‚‰è§£æ”¾ã—ã€ãŠå­ã•ã‚“ã¨ã®é–¢ä¿‚\nã‚’åŠ‡çš„ã«æ”¹å–„ã™ã‚‹ãŸã‚ã®ã€æ–°ã—ã„å¸Œæœ›ã®å…‰ã§ã™ã€‚ \n\nã“ã®æœ¬ã¯ã€æ­¯ã®ç£¨ãæ–¹ã‚’æ•™ãˆã‚‹æœ¬ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ ã‚ãªãŸã®å¿ƒã‚’å°‘ã—è¦‹ã¤ã‚ç›´ã—ã€"å¿ƒã®ç£¨ãæ–¹"\nã‚’å®Ÿè·µã™ã‚‹ã“ã¨ã§ã€ãŠå­ã•ã‚“ãŒè‡ªã‚‰æ­¯ãƒ–ãƒ©ã‚·ã‚’æ‰‹ã«å–ã‚‹ã‚ˆã†ã«ãªã‚‹ã€å¥‡è·¡ã®ã‚ˆã†ã§ã™ãŒã€å¿ƒç†å­¦ã«\nåŸºã¥ã„ãŸç¢ºã‹ãªæ–¹æ³•ã‚’ãŠä¼ãˆã™ã‚‹æœ¬ã§ã™ã€‚ \n\nã•ã‚ã€ä»Šå¤œã‹ã‚‰ã€Œæ­¯ç£¨ãæˆ¦äº‰ã€ã‚’ã€Œè¦ªå­ã®ç¬‘é¡”ãŒè¼ãæ™‚é–“ã€ã«å¤‰ãˆã‚‹æ—…ã‚’ã€ä¸€ç·’ã«å§‹ã‚ã¾ã—ã‚‡ã†ã€‚ \n\n\nã€ç¬¬1ç« ã€‘ãªãœã€ã†ã¡ã®å­ã¯æ­¯ã‚’ç£¨ã‹ãªã„ã®ï¼Ÿï½ã‚ãªãŸã®å¿ƒã‚’æ˜ ã™ã€Œé¡ã€ã®æ³•å‰‡ï½ \n\n1. å­ã©ã‚‚ã®ã€Œã‚¤ãƒ¤ï¼ã€ã¯ã€ã‚ãªãŸã®å¿ƒã®ã€Œã‚¤ãƒ¤ï¼ã€ \n\nå¤šãã®ãŠæ¯ã•ã‚“ãŒã€å­ã©ã‚‚ã®æ­¯ç£¨ãã‚’ã€Œã—ã¤ã‘ã€ã®å•é¡Œã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ã—ã‹ã—ã€ç§ãŒå°‚é–€ã¨ã™ã‚‹\nãƒ•ãƒ©ã‚¯ã‚¿ãƒ«å¿ƒç†å­¦ã§ã¯ã€**ã€Œç›®ã®å‰ã®ç¾å®Ÿã¯ã€ã™ã¹ã¦è‡ªåˆ†ã®å¿ƒã®æŠ•å½±ã§ã‚ã‚‹ã€**ã¨ã„ã†å¤§åŸå‰‡ãŒã‚\nã‚Šã¾ã™ã€‚ \n\nã“ã‚Œã‚’**ã€Œé¡ã®æ³•å‰‡ã€**ã¨å‘¼ã³ã¾ã™ã€‚ ã‚ãªãŸã®ãŠå­ã•ã‚“ã¯ã€ã¾ã‚‹ã§é«˜æ€§èƒ½ãªé¡ã€‚ã‚ãªãŸãŒæ™®æ®µæ„è­˜\nã—ã¦ã„ãªã„ã€å¿ƒã®å¥¥æ·±ãï¼ˆæ·±å±¤æ„è­˜ï¼‰ã«éš ã‚Œã¦ã„ã‚‹æ„Ÿæƒ…ã‚„æ€è€ƒã‚’ã€ãã®è¡Œå‹•ã§å¿ å®Ÿã«æ˜ ã—å‡ºã—ã¦è¦‹\nã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã™ã€‚ \n\nã¤ã¾ã‚Šã€ãŠå­ã•ã‚“ãŒæ­¯ç£¨ãã«å¯¾ã—ã¦è¦‹ã›ã‚‹ã€Œé¢å€’ãã•ã„ã€ã€Œã‚„ã‚ŠãŸããªã„ã€ã€Œãƒãƒã«ã‚„ã‚‰ã‚Œã‚‹ã®ã¯ã‚¤\nãƒ¤ï¼ã€ã¨ã„ã†æŠµæŠ—ã€‚ ãã‚Œã¯ã€ãŠæ¯ã•ã‚“ã§ã‚ã‚‹ã‚ãªãŸã®å¿ƒã®ä¸­ã«ã€åŒã˜æ€§è³ªã®ã€Œã‚¤ãƒ¤ï¼ã€ãŒéš ã‚Œã¦ã„\nã‚‹ã¨ã„ã†ã€å¤§åˆ‡ãªã‚µã‚¤ãƒ³ãªã®ã§ã™ã€‚ \n\n2. æ­¯ç£¨ãæ‹’å¦ã«éš ã•ã‚ŒãŸã€æ¯è¦ªã®3ã¤ã®æ·±å±¤æ„è­˜ \n\nã§ã¯ã€å…·ä½“çš„ã«ã©ã®ã‚ˆã†ãªã€Œã‚ãªãŸã®å¿ƒã€ãŒã€å­ã©ã‚‚ã®æ­¯ç£¨ãæ‹’å¦ã¨ã—ã¦ç¾ã‚Œã‚‹ã®ã§ã—ã‚‡ã†ã‹ã€‚ä»£è¡¨\nçš„ãª3ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚ã”è‡ªèº«ã®æ—¥å¸¸ã‚’æŒ¯ã‚Šè¿”ã‚ŠãªãŒã‚‰ã€å¿ƒå½“ãŸã‚ŠãŒãªã„ã‹ãƒã‚§ãƒƒ\nã‚¯ã—ã¦ã¿ã¦ãã ã•ã„ã€‚ \n\nâ— â‘ ã€Œé¢å€’ãã•ãŒã‚Šã€ãªè‡ªåˆ† ã€Œæ­¯ç£¨ãã£ã¦ã€æ­£ç›´é¢å€’ãã•ã„ãªâ€¦ã€ã¨å¿ƒã®ã©ã“ã‹ã§æ€ã£ã¦ã„ã¾ã›\nã‚“ã‹ï¼Ÿã‚ã‚‹ã„ã¯ã€æ­¯ç£¨ãã«é™ã‚‰ãšã€æ—¥ã€…ã®å®¶äº‹ã‚„ä»•äº‹ã€è‡ªåˆ†ã®ãŸã‚ã®ã‚¨ã‚¯ã‚µã‚µã‚¤ã‚ºã‚„å‹‰\nå¼·ã«å¯¾ã—ã¦ã€Œã‚ãƒ¼ã€é¢å€’ã ãªã€ã€Œå¾Œå›ã—ã«ã—ãŸã„ãªã€ã¨æ„Ÿã˜ã‚‹ã“ã¨ã¯ãªã„ã§ã—ã‚‡ã†ã‹ã€‚ãã®å°ã•\nãªã€Œé¢å€’ãã•ãŒã‚Šã€ã®ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’ã€ãŠå­ã•ã‚“ã¯æ•æ„Ÿã«ã‚­ãƒ£ãƒƒãƒã—ã€ã€Œæ­¯ç£¨ãã¯é¢å€’ãªã‚‚ã®ãª\nã‚“ã ï¼ã€ã¨å…¨èº«ã§è¡¨ç¾ã—ã¦ã„ã‚‹ã®ã§ã™ã€‚ \nâ— â‘¡ã€Œç®¡ç†ãƒ»æŸç¸›ã•ã‚Œã‚‹ã®ãŒå«Œã„ã€ãªè‡ªåˆ† ã‚ãªãŸã¯ã€èª°ã‹ã«ã€Œã“ã†ã—ãªã•ã„ã€ã€Œã‚‚ã£ã¨ã¡ã‚ƒã‚“ã¨\nã‚„ã£ã¦ã€ã¨æŒ‡å›³ã•ã‚ŒãŸã‚Šã€æ™‚é–“ã‚’ç®¡ç†ã•ã‚ŒãŸã‚Šã™ã‚‹ã®ãŒã€æœ¬å½“ã¯å¥½ãã§ã¯ãªã„ã®ã§ã¯ã‚ã‚Š\nã¾ã›ã‚“ã‹ï¼Ÿã€Œã˜ã£ã¨ã—ã¦ã¦ï¼ã€ã€Œå£ã‚’é–‹ã‘ã¦ï¼ã€ã¨ã„ã†ä»•ä¸Šã’ç£¨ãã®æ™‚é–“ã¯ã€ãŠå­ã•ã‚“ã«ã¨ã£\nã¦ã¯ã¾ã•ã«ã€Œç®¡ç†ãƒ»æŸç¸›ã€ãã®ã‚‚ã®ã€‚ã‚ãªãŸã®ã€Œç§ã®ã‚„ã‚Šæ–¹ã§ã€è‡ªç”±ã«ã‚„ã‚ŠãŸã„ã€ã¨ã„ã†æ·±å±¤\næ„è­˜ãŒã€ãŠå­ã•ã‚“ã®ã€Œãƒãƒã«ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã•ã‚ŒãŸããªã„ï¼ã€ã¨ã„ã†æŠµæŠ—ã¨ã—ã¦ç¾ã‚Œã¦ã„ã¾ã™ã€‚ \nâ— â‘¢ã€Œè‡ªåˆ†ã®å¥åº·ç®¡ç†ã«ç„¡é–¢å¿ƒã€ãªè‡ªåˆ† ã€Œå­ã©ã‚‚ã®å¥åº·ã¯å¿ƒé…ã ã‘ã©ã€è‡ªåˆ†ã®ã“ã¨ã¯å¾Œå›\nã—ã€ã€‚ãã‚ŒãŒã€é ‘å¼µã‚‹ãŠæ¯ã•ã‚“ã®å£ç™–ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚ã—ã‹ã—ã€å¥åº·è¨ºæ–­ã‚’å…ˆå»¶ã°ã—ã«ã—ãŸ\nã‚Šã€è‡ªåˆ†ã®é£Ÿäº‹ã¯æ®‹ã‚Šç‰©ã§é©å½“ã«æ¸ˆã¾ã›ãŸã‚Šã€è‚©ã“ã‚Šã‚„ç–²ã‚Œã‚’ã€Œã„ã¤ã‚‚ã®ã“ã¨ã€ã¨æ”¾ç½®ã—ãŸ\nã‚Šâ€¦ã€‚è‡ªåˆ†è‡ªèº«ã®ä½“ã‚’å¤§åˆ‡ã«ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã™ã‚‹ã“ã¨ã‚’è»½è¦–ã™ã‚‹ãã®åœ¨ã‚Šæ–¹ãŒã€ãŠå­ã•ã‚“ã®\nã€Œæ­¯ã®å¥åº·ãªã‚“ã¦ã€ã©ã†ã§ã‚‚ã„ã„ï¼ã€ã¨ã„ã†æ…‹åº¦ã«ç¹‹ãŒã£ã¦ã„ã‚‹ã®ã§ã™ã€‚ \n\n3. å­ã©ã‚‚ã«ã‚¤ãƒ©ã‚¤ãƒ©ã™ã‚‹æ™‚ã€ã‚ãªãŸã¯ã€Œè‡ªåˆ†ã€ã‚’è²¬ã‚ã¦ã„ã‚‹ \n\nã€Œæ—©ãã—ãªã•ã„ï¼ã€ã¨å­ã©ã‚‚ã«æ€’ã‚ŠãŒã“ã¿ä¸Šã’ã‚‹æ™‚ã€‚ãã®æ€’ã‚Šã®æœ¬å½“ã®çŸ›å…ˆã¯ã€ãŠå­ã•ã‚“ã§ã¯ã‚ã‚Šã¾\nã›ã‚“ã€‚ å®Ÿã¯ã€ã‚ãªãŸè‡ªèº«ã®ä¸­ã«ã‚ã‚‹ã€Œæ€ æ…¢ãªè‡ªåˆ†ã€ã€Œæœªç†Ÿãªè‡ªåˆ†ã€ã«å¯¾ã—ã¦ã€ç„¡æ„è­˜ã«æ€’ã‚Šã‚’æ„Ÿã˜\nã¦ã„ã‚‹ã®ã§ã™ã€‚ \n\nå­ã©ã‚‚ãŒãƒ€ãƒ©ãƒ€ãƒ©ã—ã¦ã„ã‚‹å§¿ã«ã‚¤ãƒ©ã‚¤ãƒ©ã™ã‚‹ã®ã¯ã€ã‚ãªãŸã®ä¸­ã®ã€Œã‚„ã‚‹ã¹ãã“ã¨ã‚’å¾Œå›ã—ã«ã™ã‚‹è‡ª\nåˆ†ã€ã‚’è²¬ã‚ãŸã„ã‹ã‚‰ã€‚ å­ã©ã‚‚ãŒé©å½“ã«ç£¨ãå§¿ã«è…¹ãŒç«‹ã¤ã®ã¯ã€ã‚ãªãŸã®ä¸­ã®ã€Œç‰©äº‹ã‚’ä¸­é€”åŠç«¯ã«\næ¸ˆã¾ã›ã‚‹è‡ªåˆ†ã€ã‚’æ­£ã—ãŸã„ã‹ã‚‰ã€‚ \n\n\nãŠå­ã•ã‚“ã¯ã€ã‚ãªãŸãŒè‡ªåˆ†è‡ªèº«ã‚’æˆé•·ã•ã›ã‚‹ã¹ããƒã‚¤ãƒ³ãƒˆã‚’ã€èº«ã‚’ã‚‚ã£ã¦æ•™ãˆã¦ãã‚Œã¦ã„ã‚‹ã€æœ€é«˜\nã®ãƒ¡ãƒƒã‚»ãƒ³ã‚¸ãƒ£ãƒ¼ãªã®ã§ã™ã€‚ \n\nã€ç¬¬2ç« ã€‘é­”æ³•ã®è¨€è‘‰ï½ã€Œå‘½ä»¤ã€ã‚’ã€Œèª“ã„ã€ã«å¤‰ãˆã‚‹ã‚¢ãƒ•ã‚¡ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ¯ãƒ¼ã‚¯ï½ \n\nåŸå› ãŒåˆ†ã‹ã‚Œã°ã€è§£æ±ºã¯ã‚‚ã†ã™ãã§ã™ã€‚ ã“ã®ç« ã§ã¯ã€ãŠå­ã•ã‚“ã§ã¯ãªãã€Œã‚ãªãŸè‡ªèº«ã€ã‚’å¤‰ãˆã‚‹ãŸ\nã‚ã®ã€å…·ä½“çš„ã§å¼·åŠ›ãªæ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚ãã‚Œã¯ã€å­ã©ã‚‚ã«è¨€ã„ãŸã„è¨€è‘‰ã‚’ã€ã™ã¹ã¦ã€Œè‡ªåˆ†ã«\nå‘ã‘ãŸè¨€è‘‰ã€ã«å¤‰æ›ã™ã‚‹ã¨ã„ã†ãƒ¯ãƒ¼ã‚¯ã§ã™ã€‚ \n\n1. ã€Œã‚ãªãŸã€ã‚’ã€Œç§ã€ã«å¤‰ãˆã‚‹ã ã‘ã€‚é©šãã¹ãå¤‰åŒ–ãŒèµ·ã“ã‚‹ \n\nã‚„ã‚Šæ–¹ã¯ã¨ã¦ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§ã™ã€‚ ãŠå­ã•ã‚“ã«æ€’é³´ã£ã¦ã—ã¾ã„ãã†ã«ãªã£ãŸè¨€è‘‰ã‚’ã€ã‚°ãƒƒã¨ã“ã‚‰ãˆã€ä¸»èª\nã‚’ã€Œç§ã€ã«å¤‰ãˆã¦å¿ƒã®ä¸­ã§å”±ãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚ \n\nå®Ÿæ¼”ï¼šã€Œã¡ã‚ƒã‚“ã¨ç£¨ããªã•ã„ï¼ã€â†’ã€Œâ€œç§ãŒâ€ã¡ã‚ƒã‚“ã¨ç£¨ããªã•ã„ã€ \n\nã©ã†ã§ã—ã‚‡ã†ã‹ã€‚ãƒ‰ã‚­ãƒƒã¨ã—ã¾ã›ã‚“ã‹ï¼Ÿ å­ã©ã‚‚ã«è¨€ã£ã¦ã„ã‚‹ã¤ã‚‚ã‚Šã®è¨€è‘‰ãŒã€å®Ÿã¯ã™ã¹ã¦è‡ªåˆ†ã¸ã®\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã ã£ãŸã“ã¨ã«ã€ã¯ã£ãã‚Šã¨æ°—ã¥ãã¯ãšã§ã™ã€‚ \n\nâ— ä¾‹1ï¼šã€Œã„ã¤ã¾ã§ã‚µãƒœã£ã¦ã‚‹ã®ï¼ï¼Ÿã€ â†’ã€Œâ€œç§ãŒâ€ã„ã¤ã¾ã§ã‚µãƒœã£ã¦ã‚‹ã®ï¼Ÿã€ â†’ï¼ˆæ°—ã¥ãï¼‰ã‚\nã‚ã€ç§ã¯å¥åº·ã®ãŸã‚ã®é‹å‹•ã‚’ã‚µãƒœã£ã¦ã„ã‚‹ãªâ€¦ \n\nâ— ä¾‹2ï¼šã€Œã‚‚ã£ã¨ä¸å¯§ã«ã‚„ã‚Šãªã•ã„ï¼ã€ â†’ã€Œâ€œç§ãŒâ€ã‚‚ã£ã¨ä¸å¯§ã«ã‚„ã‚Šãªã•ã„ã€ â†’ï¼ˆæ°—ã¥ãï¼‰æœ€è¿‘ã€\nä»•äº‹ã‚„å®¶äº‹ãŒé›‘ã«ãªã£ã¦ã„ãŸã‹ã‚‚ã—ã‚Œãªã„â€¦ \n\nã“ã®ã€Œä¸»èªã®è»¢æ›ã€ã¯ã€è‡ªåˆ†ã®ä¸­ã®å•é¡Œç‚¹ã‚’å®¢è¦³çš„ã«è¦‹ã¤ã‚ã€èªã‚ã‚‹ãŸã‚ã®ãƒ‘ãƒ¯ãƒ•ãƒ«ãªç¬¬ä¸€æ­©\nã§ã™ã€‚ \n\n2. ãƒã‚¬ãƒ†ã‚£ãƒ–ãªè¨€è‘‰ã‚’ã€Œæœªæ¥ã‚’ä½œã‚‹èª“ã„ã€ã¸ \n\nè‡ªåˆ†ã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã«æ°—ã¥ã‘ãŸã‚‰ã€æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ãŒæœ€ã‚‚é‡è¦ã§ã™ã€‚ ãã®ãƒã‚¬ãƒ†ã‚£ãƒ–ãªè¨€è‘‰ã‚’ã€ãƒã‚¸\nãƒ†ã‚£ãƒ–ã§æœªæ¥å¿—å‘ã®ã€Œã‚¢ãƒ•ã‚¡ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆè‡ªåˆ†ã¸ã®è‚¯å®šçš„å®£è¨€ï¼‰ã€ã«ä¿®æ­£ã—ã¦ã„ãã®ã§ã™ã€‚ã“ã‚Œã¯ã€ã‚\nãªãŸã®æ·±å±¤æ„è­˜ã‚’æ›¸ãæ›ãˆã‚‹ãŸã‚ã®ã€é­”æ³•ã®å‘ªæ–‡ã§ã™ã€‚ \n\nã€ãŠæ¯ã•ã‚“ã®ãŸã‚ã®â€œå¿ƒã®æ­¯ç£¨ãâ€ã‚¢ãƒ•ã‚¡ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€‘ \n\nå­ã©ã‚‚ã«è¨€ã„ãŒã¡ãª\n\nè¨€è‘‰ \nè‡ªåˆ†ã¸ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ æœªæ¥ã‚’ä½œã‚‹ã‚¢ãƒ•ã‚¡ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ \n\nã€Œã¡ã‚ƒã‚“ã¨ç£¨ããªã•\n\nã„ï¼ã€ \nç§ãŒé›‘ã«ãªã£ã¦ã„ã‚‹ ã€Œç§ã¯ã€è‡ªåˆ†ã®å¿ƒã¨ä½“ã‚’ä¸å¯§ã«æ‰±ã„ã¾ã™ã€ \n\nã€Œæ—©ãã‚„ã‚Šãªã•ã„ï¼ã€ ç§ãŒã‚„ã‚‹ã¹ãã“ã¨ã‚’å¾Œå›\n\nã—ã«ã—ã¦ã„ã‚‹ \nã€Œç§ã¯ã€ã‚„ã‚‹ã¹ãã“ã¨ã‚’æœ€é©ãªã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§å®Ÿ\nè¡Œã—ã¾ã™ã€ \n\n\nã€Œã‚µãƒœã‚‰ãªã„ã§ï¼ã€ ç§ãŒæ¥½ãªæ–¹ã«æµã•ã‚Œã¦\n\nã„ã‚‹ \nã€Œç§ã¯ã€è‡ªåˆ†ã®å¥åº·ã¨æœªæ¥ã®ãŸã‚ã«ã€å¿…è¦ãª\nåŠªåŠ›ã‚’æƒœã—ã¿ã¾ã›ã‚“ã€ \n\nã€Œæ¯æ—¥ç¶šã‘ãªã•\n\nã„ï¼ã€ \nç§ã®ç¶™ç¶šåŠ›ãŒè¶³ã‚Šãªã„ ã€Œç§ã¯ã€ä¾¡å€¤ã‚ã‚‹ç¿’æ…£ã‚’æ¯æ—¥æ¥½ã—ãç¶šã‘ã¾ã™ã€ \n\nã“ã‚Œã‚‰ã®ã‚¢ãƒ•ã‚¡ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ã€æ¯æ—¥å¿ƒã®ä¸­ã§å”±ãˆãŸã‚Šã€æ‰‹å¸³ã«æ›¸ãå‡ºã—ãŸã‚Šã—ã¦ã¿ã¦ãã ã•ã„ã€‚ã‚ãª\nãŸã®æ·±å±¤æ„è­˜ãŒæ›¸ãæ›ã‚ã‚‹ã¨ã€ä¸æ€è­°ãªã“ã¨ã«ã€é¡ã§ã‚ã‚‹ãŠå­ã•ã‚“ã®è¡Œå‹•ãŒè‡ªç„¶ã¨å¤‰ã‚ã‚Šå§‹ã‚ã¾\nã™ã€‚ã€Œæ—©ãç£¨ããªã•ã„ï¼ã€ã¨è¨€ã‚ãªãã¦ã‚‚ã€è‡ªåˆ†ã‹ã‚‰æ­¯ãƒ–ãƒ©ã‚·ã‚’æŒã£ã¦ãã‚‹â€¦ãã‚“ãªå¬‰ã—ã„å¤‰åŒ–ãŒã€å¿…\nãšè¨ªã‚Œã¾ã™ã€‚ \n\nã€ç¬¬3ç« ã€‘ã€Œæˆ¦ã„ã€ã‹ã‚‰ã€Œè¦ªå­ã®æ™‚é–“ã€ã¸ï½è¦ªã“ããŒæœ€é«˜ã®ãŠæ‰‹æœ¬ï½ \n\nã‚ãªãŸã®å¿ƒãŒæ•´ã„å§‹ã‚ãŸã‚‰ã€æœ€å¾Œã¯è¡Œå‹•ã§ã™ã€‚ ã€Œã“ã†ã—ãªã•ã„ã€ã¨100å›è¨€è‘‰ã§è¨€ã†ã‚ˆã‚Šã‚‚ã€ã‚ãªãŸ\nãŒ1å›æ¥½ã—ãã†ã«ã‚„ã£ã¦è¦‹ã›ã‚‹æ–¹ãŒã€å­ã©ã‚‚ã®å¿ƒã«ã¯ä½•å€ã‚‚æ·±ãåˆ»ã¾ã‚Œã¾ã™ã€‚ \n\n1. ã€Œã‚„ã‚‰ã›ã‚‹ã€ã‹ã‚‰ã€Œã‚„ã‚ŠãŸããªã‚‹ã€é­”æ³•ã®ç’°å¢ƒã¥ãã‚Š \n\nå­ã©ã‚‚ã¯ã€è¦ªãŒã€Œæ¥½ã—ãã†ã«ã€ã—ã¦ã„ã‚‹ã“ã¨ã‚’çœŸä¼¼ã—ãŸããªã‚‹å¤©æ‰ã§ã™ã€‚ ä»Šæ—¥ã‹ã‚‰ã€æ­¯ç£¨ãã‚’ã€Œç¾©å‹™ã€\nã§ã¯ãªãã€ã‚ãªãŸè‡ªèº«ã®ã€Œæ¥½ã—ã„ã‚»ãƒ«ãƒ•ã‚±ã‚¢ã‚¿ã‚¤ãƒ ã€ã«å¤‰ãˆã¦ã¿ã¾ã—ã‚‡ã†ã€‚ \n\nâ— ãŠæ°—ã«å…¥ã‚Šã®éŸ³æ¥½ã‚’ã‹ã‘ãªãŒã‚‰ã€ã‚ãªãŸãŒå…ˆã«æ¥½ã—ãã†ã«é¼»æ­Œã¾ã˜ã‚Šã§ç£¨ãã€‚ \nâ— ã€Œã‚ï½ã‚¹ãƒƒã‚­ãƒªã—ãŸï¼ãŠå£ã®ä¸­ãŒãƒ„ãƒ«ãƒ„ãƒ«ã§æ°—æŒã¡ã„ã„ï¼ã€ã¨ã€æ­¯ç£¨ãå¾Œã®çˆ½å¿«æ„Ÿã‚’è¨€è‘‰\nã«å‡ºã—ã¦ã€ãŠå­ã•ã‚“ã«èã‹ã›ã¦ã‚ã’ã‚‹ã€‚ \n\nâ— é¡ã®å‰ã§ã€ãƒ‹ã‚³ãƒƒã¨ç¬‘ã£ã¦è‡ªåˆ†ã®ç¶ºéº—ãªæ­¯ã‚’ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã€‚ \n\nãŠæ¯ã•ã‚“ãŒæ¥½ã—ãã†ã«ã€ãã—ã¦è‡ªåˆ†ã®ä½“ã‚’æ…ˆã—ã‚€ã‚ˆã†ã«æ­¯ã‚’ç£¨ãå§¿ã¯ã€ãŠå­ã•ã‚“ã«ã¨ã£ã¦ä½•ã‚ˆã‚Šã®\nç”ŸããŸæ•™æã§ã™ã€‚ã€Œæ­¯ç£¨ãã£ã¦ã€æ°—æŒã¡ã®ã„ã„ã“ã¨ãªã‚“ã ã€ã¨ã€è¨€è‘‰ã§ã¯ãªãå¿ƒã§ç†è§£ã™ã‚‹ã‚ˆã†ã«ãª\nã‚Šã¾ã™ã€‚ \n\n2. æ­¯ç£¨ãç¿’æ…£ã¯ã€ä¸€ç”Ÿã‚‚ã®ã®ã€Œè‡ªå·±ç®¡ç†èƒ½åŠ›ã€ã¨ã„ã†è´ˆã‚Šç‰© \n\nè€ƒãˆã¦ã¿ã¦ãã ã•ã„ã€‚ æ¯æ—¥æ±ºã¾ã£ãŸæ™‚é–“ã«è‡ªåˆ†ã®ä½“ã‚’æ¸…æ½”ã«ã™ã‚‹ã€Œæ­¯ç£¨ãç¿’æ…£ã€ã¯ã€è‡ªåˆ†ã§è‡ªåˆ†\nã®å¥åº·ã¨è¦å¾‹ã‚’å®ˆã‚‹**ã€Œè‡ªå·±ç®¡ç†èƒ½åŠ›ã€ã®ã€äººç”Ÿã§æœ€åˆã®ç´ æ™´ã‚‰ã—ã„ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°**ã§ã™ã€‚ \n\nã“ã®åŠ›ãŒè‚²ã¦ã°ã€å°†æ¥ã€å­¦ç¿’ç¿’æ…£ã‚„å¥åº·ç®¡ç†ã€æ™‚é–“ç®¡ç†ãªã©ã€äººç”Ÿã®ã‚ã‚‰ã‚†ã‚‹å ´é¢ã§è‡ªåˆ†ã‚’å¾‹\nã—ã€ç›®æ¨™ã‚’é”æˆã™ã‚‹åŠ›ã«ç¹‹ãŒã£ã¦ã„ãã¾ã™ã€‚ \n\nã‚ãªãŸãŒä»Šã€è‡ªåˆ†è‡ªèº«ã®å¿ƒã¨å‘ãåˆã„ã€ç”Ÿæ´»ã‚’æ•´ãˆã‚‹å§¿ã‚’è¦‹ã›ã‚‹ã“ã¨ã€‚ ãã‚Œã¯ã€ãŸã å­ã©ã‚‚ã®è™«\næ­¯ã‚’é˜²ãã ã‘ã§ãªãã€ãŠå­ã•ã‚“ã®äººç”Ÿã‚’è±Šã‹ã«ã™ã‚‹ã€Œä¸€ç”Ÿã‚‚ã®ã®ã‚®ãƒ•ãƒˆã€ã‚’è´ˆã£ã¦ã„ã‚‹ã®ã¨åŒã˜ã“ã¨\nãªã®ã§ã™ã€‚ \n\nå­ã©ã‚‚ã«å¤‰åŒ–ã‚’æ±‚ã‚ã‚‹å‰ã«ã€ã¾ãšè‡ªåˆ†ã‚’æ•´ãˆã‚‹ã€‚ è‡ªåˆ†ã®å¥åº·ã¨å¿ƒã‚’å¤§åˆ‡ã«ã™ã‚‹ã“ã¨ãŒã€å·¡ã‚Šå·¡ã£\nã¦ã€æ„›ã™ã‚‹æˆ‘ãŒå­ã®æœªæ¥ã‚’è¼ã‹ã›ã‚‹ä¸€ç•ªã®è¿‘é“ã§ã™ã€‚ \n\n\nã€çµ‚ç« ã€‘ãŠã‚ã‚Šã«ï¼šã•ã‚ã€æœ€é«˜ã®ç¬‘é¡”ã§ã€Œä¸€ç·’ã«ã€ç£¨ã“ã† \n\nã“ã“ã¾ã§èª­ã¿é€²ã‚ã¦ãã ã•ã‚Šã€æœ¬å½“ã«ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ã€‚ \n\nå­ã©ã‚‚ã®æ­¯ç£¨ãã¨ã„ã†ã€ãŸã£ãŸä¸€ã¤ã®æ‚©ã¿ã€‚ãã®å…¥ã‚Šå£ã‹ã‚‰ã€ç§ãŸã¡ã¯è‡ªåˆ†è‡ªèº«ã®å¿ƒã‚’è¦‹ã¤ã‚ã‚‹\nã¨ã„ã†ã€æ·±ãã€ãã—ã¦ä¾¡å€¤ã‚ã‚‹æ—…ã‚’ã—ã¦ãã¾ã—ãŸã€‚ \n\nã‚‚ã†ã€ã‚ãªãŸã¯å­ã©ã‚‚ã®è¡Œå‹•ã«ä¸€å–œä¸€æ†‚ã—ã€è‡ªåˆ†ã‚’è²¬ã‚ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ ãŠå­ã•ã‚“ãŒæŠµæŠ—ã‚’\nè¦‹ã›ãŸãªã‚‰ã€ãã‚Œã¯ã€Œãƒãƒã€å¿ƒã®ä¸­ã«ä½•ã‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒã‚ã‚‹ã‚ˆã€ã¨ã„ã†ã‚µã‚¤ãƒ³ã€‚ãã†å—ã‘å–ã£ã¦ã€è‡ª\nåˆ†è‡ªèº«ã‚’å„ªã—ãè¦‹ã¤ã‚ç›´ã™ãƒãƒ£ãƒ³ã‚¹ã«ã—ã¦ãã ã•ã„ã€‚ \n\nã‚ãªãŸã®å¿ƒãŒæ•´ã„ã€æ¾„ã¿æ¸¡ã£ã¦ã„ãã»ã©ã«ã€ãŠå­ã•ã‚“ã¯é©šãã»ã©ç´ ç›´ã§ã€ç©ã‚„ã‹ã«ãªã‚Šã¾ã™ã€‚ ã‹\nã¤ã¦æˆ¦å ´ã ã£ãŸæ´—é¢æ‰€ã¯ã€è¦ªå­ã®ç¬‘é¡”ãŒéŸ¿ãåˆã†ã€æ¸©ã‹ã„ã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®å ´æ‰€ã«å¤‰ã‚ã‚‹ã§\nã—ã‚‡ã†ã€‚ \n\nã‚ãªãŸã®å¿ƒã¨æ­¯ãŒè¼ã‘ã°ã€ãŠå­ã•ã‚“ã®å¿ƒã¨æ­¯ã‚‚ã€å¿…ãšè¼ãã¾ã™ã€‚ \n\nã•ã‚ã€ã“ã®æœ¬ã‚’é–‰ã˜ã¦ã€é¡ã®å‰ã¸ã€‚ æœ€é«˜ã®ç¬‘é¡”ã§ã€ãŠå­ã•ã‚“ã«ã“ã†å£°ã‚’ã‹ã‘ã¦ã¿ã¦ãã ã•ã„ã€‚ \n\nã€Œãƒãƒã¨ä¸€ç·’ã«ã€æ­¯ã‚’ç£¨ã“ã†ã‹ï¼ã€ \n\nãã®ä¸€è¨€ãŒã€ã‚ãªãŸã¨ã€ãã—ã¦ãŠå­ã•ã‚“ã®è¼ãæœªæ¥ã®å§‹ã¾ã‚Šã§ã™ã€‚ \n\nè‘—è€…ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ« \n\næ­¯ç§‘åŒ»å¸«ï¼ãƒ•ãƒ©ã‚¯ã‚¿ãƒ«å¿ƒç†å­¦ã‚«ã‚¦ãƒ³ã‚»ãƒ©ãƒ¼  \néˆ´æœ¨\u3000ã•ã‚„ã‹ \n\n\n\tã€æ­¯ç£¨ãã‚¤ãƒ¤ã‚¤ãƒ¤ã®æœ¬å½“ã®åŸå› ã¯ãƒãƒã®å¿ƒã«ã‚ã£ãŸï¼ã€ \n\tã€œé¡ã®æ³•å‰‡ã§æˆ‘ãŒå­ãŒå¤‰ã‚ã‚‹ã€Œå¿ƒã®ç£¨ãæ–¹ã€ã€œ \n\tã€åºç« ã€‘ã¯ã˜ã‚ã«ï¼šçµ‚ã‚ã‚‰ãªã„ã€Œæ­¯ç£¨ãæˆ¦äº‰ã€ã«ã€ä»Šå¤œçµ‚æ­¢ç¬¦ã‚’æ‰“ã¡ã¾ã—ã‚‡ã† \n\tã€ç¬¬1ç« ã€‘ãªãœã€ã†ã¡ã®å­ã¯æ­¯ã‚’ç£¨ã‹ãªã„ã®ï¼Ÿï½ã‚ãªãŸã®å¿ƒã‚’æ˜ ã™ã€Œé¡ã€ã®æ³•å‰‡ï½ \n\t1. å­ã©ã‚‚ã®ã€Œã‚¤ãƒ¤ï¼ã€ã¯ã€ã‚ãªãŸã®å¿ƒã®ã€Œã‚¤ãƒ¤ï¼ã€ \n\t2. æ­¯ç£¨ãæ‹’å¦ã«éš ã•ã‚ŒãŸã€æ¯è¦ªã®3ã¤ã®æ·±å±¤æ„è­˜ \n\t3. å­ã©ã‚‚ã«ã‚¤ãƒ©ã‚¤ãƒ©ã™ã‚‹æ™‚ã€ã‚ãªãŸã¯ã€Œè‡ªåˆ†ã€ã‚’è²¬ã‚ã¦ã„ã‚‹ \n\n\tã€ç¬¬2ç« ã€‘é­”æ³•ã®è¨€è‘‰ï½ã€Œå‘½ä»¤ã€ã‚’ã€Œèª“ã„ã€ã«å¤‰ãˆã‚‹ã‚¢ãƒ•ã‚¡ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ¯ãƒ¼ã‚¯ï½ \n\t1. ã€Œã‚ãªãŸã€ã‚’ã€Œç§ã€ã«å¤‰ãˆã‚‹ã ã‘ã€‚é©šãã¹ãå¤‰åŒ–ãŒèµ·ã“ã‚‹ \n\t2. ãƒã‚¬ãƒ†ã‚£ãƒ–ãªè¨€è‘‰ã‚’ã€Œæœªæ¥ã‚’ä½œã‚‹èª“ã„ã€ã¸ \n\n\tã€ç¬¬3ç« ã€‘ã€Œæˆ¦ã„ã€ã‹ã‚‰ã€Œè¦ªå­ã®æ™‚é–“ã€ã¸ï½è¦ªã“ããŒæœ€é«˜ã®ãŠæ‰‹æœ¬ï½ \n\t1. ã€Œã‚„ã‚‰ã›ã‚‹ã€ã‹ã‚‰ã€Œã‚„ã‚ŠãŸããªã‚‹ã€é­”æ³•ã®ç’°å¢ƒã¥ãã‚Š \n\t2. æ­¯ç£¨ãç¿’æ…£ã¯ã€ä¸€ç”Ÿã‚‚ã®ã®ã€Œè‡ªå·±ç®¡ç†èƒ½åŠ›ã€ã¨ã„ã†è´ˆã‚Šç‰© \n\n\tã€çµ‚ç« ã€‘ãŠã‚ã‚Šã«ï¼šã•ã‚ã€æœ€é«˜ã®ç¬‘é¡”ã§ã€Œä¸€ç·’ã«ã€ç£¨ã“ã† \n';

  const pagesEl = document.getElementById('pages');
  const grid = document.getElementById('grid');
  const toc = document.getElementById('toc');
  const tocList = document.getElementById('tocList');
  const bmListWrap = document.getElementById('bmListWrap');
  const bmList = document.getElementById('bmList');
  const pageInfo = document.getElementById('pageInfo');
  const slider = document.getElementById('slider');
  const progressBar = document.getElementById('progressBar');
  const fontSizeView = document.getElementById('fontSizeView');

  function save(){
    localStorage.setItem('eb3.theme', state.theme);
    localStorage.setItem('eb3.font', String(state.font));
    localStorage.setItem('eb3.lh', String(state.lh));
    localStorage.setItem('eb3.spread', JSON.stringify(state.spread));
    localStorage.setItem('eb3.page', String(state.page));
    localStorage.setItem('eb3.bm', JSON.stringify(state.bm));
  }

  function applyTheme(){ document.body.setAttribute('data-theme', state.theme); }
  function setFont(delta){ state.font = Math.max(12, Math.min(28, state.font + delta)); renderPages(true); }
  function setLH(val){ state.lh = Math.max(1.4, Math.min(2.2, val)); renderPages(true); }
  function toggleSpread(){ state.spread = !state.spread; renderPages(true); }
  function toggleToc(){ toc.style.display = toc.style.display === 'none' ? 'block' : 'none'; grid.classList.toggle('toc-open'); }
  function next(){
    const step = state.spread ? 2 : 1;
    goTo(state.page + step);
  }
  function prev(){
    const step = state.spread ? 2 : 1;
    goTo(state.page - step);
  }
  function goTo(p){
    state.page = Math.max(0, Math.min(p, window.__pages.length-1));
    updateUI();
  }
  function toggleBookmark(){
    const key = state.spread ? Math.floor(state.page/2)*2 : state.page;
    const idx = state.bm.indexOf(key);
    if(idx>=0) state.bm.splice(idx,1);
    else state.bm.push(key);
    updateBM();
    save();
  }
  function updateBM(){
    bmListWrap.style.display = state.bm.length ? 'block' : 'none';
    bmList.innerHTML = '';
    state.bm.sort((a,b)=>a-b).forEach(p=>{ 
      const b = document.createElement('button');
      b.className = 'badge';
      b.textContent = 'p.'+(p+1);
      b.onclick = ()=> goTo(p);
      bmList.appendChild(b);
    });
  }

  // TOC detection (supports ã€åºç« ã€‘ã€ç¬¬1ç« ã€‘â€¦ã€çµ‚ç« ã€‘)
  function buildTOC(){
    tocList.innerHTML = '';
    const lines = content.split(/\n+/);
    let idx = 0;
    const re = /^ã€.*?ç« ã€‘|^è‘—è€…ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«|^ã€/;
    lines.forEach(line=>{
      if(re.test(line)) {
        const li = document.createElement('li');
        const btn = document.createElement('button');
        btn.textContent = line.trim();
        btn.style.cssText = 'width:100%;text-align:left;padding:6px 8px;border-radius:10px;border:1px solid rgba(255,255,255,.2);margin:4px 0;cursor:pointer;background:transparent';
        btn.onmouseover = ()=> btn.style.background='rgba(255,255,255,.1)';
        btn.onmouseout = ()=> btn.style.background='transparent';
        btn.onclick = ()=>{ 
          const p = Math.floor(idx / (window.__cpp||800));
          state.page = state.spread ? p - (p%2) : p;
          updateUI();
        };
        li.appendChild(btn);
        tocList.appendChild(li);
      }
      idx += line.length + 1;
    });
  }

  function estimateCPP(){
    const viewer = pagesEl.parentElement;
    const width = viewer.clientWidth - 32;
    const height = viewer.clientHeight - 32;
    const columns = (state.spread && width >= 900) ? 2 : 1;
    const pageWidth = width / columns;
    const linePx = state.font * state.lh;
    const linesPerPage = Math.max(8, Math.floor(height / linePx));
    const charsPerLine = Math.max(12, Math.floor(pageWidth / (state.font * 0.95)));
    const cpp = Math.max(200, Math.floor(linesPerPage * charsPerLine));
    return cpp;
  }

  function renderPages(resetPage){
    applyTheme();
    pagesEl.className = 'pages' + (state.spread ? ' spread' : '');
    fontSizeView.textContent = state.font + 'px';

    const cpp = estimateCPP();
    window.__cpp = cpp;
    const chunks = [];
    for(let i=0;i<content.length;i+=cpp) chunks.push(content.slice(i,i+cpp));
    window.__pages = chunks;
    if(resetPage) state.page = Math.min(state.page, chunks.length-1);

    updateUI();
    buildTOC();
    updateBM();
  }

  function updateUI(){
    const chunks = window.__pages || [content];
    pagesEl.innerHTML = '';
    if(state.spread){
      const spreadIndex = Math.floor(state.page/2);
      const left = chunks[spreadIndex*2] || '';
      const right = chunks[spreadIndex*2+1] || '';
      pagesEl.innerHTML = `
        <div class="page"><article style="font-size:${state.font}px; line-height:${state.lh}">${escapeHTML(left)}</article></div>
        <div class="page"><article style="font-size:${state.font}px; line-height:${state.lh}">${escapeHTML(right)}</article></div>
      `;
      slider.max = Math.max(0, Math.ceil(chunks.length/2)-1);
      slider.value = spreadIndex;
      pageInfo.textContent = `ãƒšãƒ¼ã‚¸ ${spreadIndex+1} / ${Math.ceil(chunks.length/2)}`;
      const progress = ((spreadIndex+1)/Math.max(1,Math.ceil(chunks.length/2)))*100;
      progressBar.style.width = progress.toFixed(2)+'%';
    } else {
      const cur = chunks[state.page] || '';
      pagesEl.innerHTML = `<div class="page"><article style="font-size:${state.font}px; line-height:${state.lh}">${escapeHTML(cur)}</article></div>`;
      slider.max = Math.max(0, chunks.length-1);
      slider.value = state.page;
      pageInfo.textContent = `ãƒšãƒ¼ã‚¸ ${state.page+1} / ${chunks.length}`;
      const progress = ((state.page+1)/Math.max(1,chunks.length))*100;
      progressBar.style.width = progress.toFixed(2)+'%';
    }
    save();
  }

  function escapeHTML(s){
    return s.replace(/[&<>'"]/g, c => ({'&':'&amp;','<':'&lt;','>':'&gt;','\'':'&#39;','"':'&quot;'})[c]);
  }

  // events
  document.getElementById('themeBtn').onclick = ()=>{
    const order = ['sepia','light','dark'];
    const i = order.indexOf(state.theme);
    state.theme = order[(i+1)%order.length];
    applyTheme(); save();
  };
  document.getElementById('smaller').onclick = ()=> setFont(-1);
  document.getElementById('bigger').onclick = ()=> setFont(1);
  document.getElementById('lh').oninput = (e)=> setLH(parseFloat(e.target.value));
  document.getElementById('spreadBtn').onclick = ()=> toggleSpread();
  document.getElementById('tocBtn').onclick = ()=> toggleToc();
  document.getElementById('bmBtn').onclick = ()=> toggleBookmark();
  document.getElementById('prev').onclick = ()=> prev();
  document.getElementById('next').onclick = ()=> next();
  slider.oninput = (e)=> {
    const v = parseInt(e.target.value, 10);
    if(state.spread) state.page = v*2; else state.page = v;
    updateUI();
  };

  window.addEventListener('resize', ()=> renderPages(false));
  window.addEventListener('keydown', (e)=>{
    if(e.key === 'ArrowRight') next();
    if(e.key === 'ArrowLeft') prev();
    if(e.key === ' ') { e.preventDefault(); toggleSpread(); }
  });

  // init
  applyTheme();
  document.body.setAttribute('data-theme', state.theme);
  document.getElementById('lh').value = state.lh;
  renderPages(false);
</script>
</body>
</html>
